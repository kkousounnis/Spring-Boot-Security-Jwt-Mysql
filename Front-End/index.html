<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Authentication</title>
</head>

<body>
    <div>
        <!-- <button id="test">Test Loggedin</button>
        <button id="goodLogin">Good Login</button>
        <button id="badLogin">Bad Login</button>
        <button id="logout">Logout</button> -->
        <button id="send">Test Loggedin</button>
    </div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#send").click(function () {

                var token = ''
                $.ajax({
                    type: 'POST',                    
                    url: 'http://localhost:8080/api/auth/signin',
                    dataType: 'json',
                    contentType: "application/json",
                    data: JSON.stringify({ "username": "kwstas@gmail.com", "password" : "K!1234" }),
                    success: function (resultData) {
                        var token = resultData.accessToken;
                        console.log(token);
                        $.ajax({
                            type: 'GET',
                            url: 'http://localhost:8080/api/test/user',
                            headers: { "Authorization": token },
                            success: function (data) {
                                $(location).attr('href', '/memberinfo')
                            }
                        });
                    }
                });
            });
        });
    </script>
</body>

</html>